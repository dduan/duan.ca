<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Daniel Duan">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://duan.ca/2017/02/07/replying-to-old-mailing-list-threads/">
    <meta property="og:site_name" content="Daniel Duan's Website">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Replying To Old Mailing List Threads">
    <meta property="article:published_time" content="2017-02-07T10:21:19-08:00"><meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@daniel_duan">
    <meta name="twitter:creator" content="@Daniel Duan">
    <meta name="apple-mobile-web-app-title" content="Daniel Duan">
    <title>Replying To Old Mailing List Threads</title>
    <link rel="alternate" type="application/rss+xml" title="Daniel Duan's Website" href="/feed.xml">
    <link rel="canonical" href="https://duan.ca/2017/02/07/replying-to-old-mailing-list-threads/">
    <link rel="stylesheet" href="/styles.css"></link>
    <link rel="shortcut icon" href="/favicon.ico">
</head>
<body><article>
    <h1>Replying To Old Mailing List Threads</h1>
    <nav>
        <p class="metainfo article-meta">
            <a href="/articles">Daniel Duan</a>
            ·
            <time datetime="2017-02-07T10:21:19-08:00" itemProp="datePublished">2017-02-07</time>
        </p>
    </nav><p><em>One common complains on the Swift Evolution mailing list is about its
inscrutable interface. If you see an inactive thread on the web archive but
haven't subscribed, there seems to be no way to participate or &quot;revive&quot; it
since you never received any of its emails.</em></p>
<p><em>With a <a href="https://lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170206/031537.html">hint</a> and some experiments, I've discovered that there is
a way. This post reveals the magic step by step (without commenting on the
merits of email or this solution).</em></p>
<p>Like HTTP, Email is a text-based <a href="https://tools.ietf.org/html/rfc2822">protocol</a>. Unlike HTTP, we directly
consume payloads of this protocol and, as a consequence, don't think much about
that very fact.</p>
<p>Like HTTP, each email includes headers hidden by normal email clients. Each
header is essentially two strings, a key and a value, separated by a colon.
Among these headers are <code>Message-Id</code> and <code>In-Reply-To</code>. When we tell our email
client applications to start a reply, they take the value from <code>Message-Id</code>
and use it as value for <code>In-Reply-To</code> automatically.</p>
<p>To observe all this in action, we can open some emails with our favorite text
editors and look for these headers. Of course, this require us to know where the
emails exist as files. On macOS, an easy thing to do is to drag from Mail.app to
Finder/Desktop and open the resulting .eml file:</p>
<p><img src="/assets/2017/02/open-email.gif" alt="Open an email in text editors" /></p>
<p>Among the (perhaps overwhelming amount of) headers, we'll find the two fields we
are looking for:</p>
<p><img src="/assets/2017/02/email-headers.png" alt="Email Headers Message-Id and In-Reply-To" /></p>
<p>… I'll leave the clients' reply behavior regarding these fields for the reader
to verify.</p>
<p>Mailing list software such as GNU Mailman, which <a href="https://swift.org">swift.org</a> and <a href="http://llvm.org">llvm.org</a>
use to host various mailing lists, associate emails in threads by chaining them
with the headers explained above, among other things. As long as we have
a message's <code>Message-Id</code>, we can reply to it &quot;officially&quot; by adding its value to
the <code>In-Reply-To</code> header in our email, regardless of whether we have received
that email ourselves previously.</p>
<p>So here are the steps to reply retroactively to a mailing list thread.</p>
<ol>
<li>
<p><strong>find <code>Message-Id</code> of the mailing list message we want to reply to.</strong></p>
<p>This value is contained in the mailing list web archive's <code>mailto</code> link.
Unfortunately Mail.app doesn't recognize it. It's easy enough to find it
ourselves though:</p>
<p><img src="/assets/2017/02/find-message-id.gif" alt="Finding Message-Id on mailman archive" /></p>
<p>Note the <code>&lt;</code>, <code>&gt;</code>, <code>@</code> characters are percent-quoted. We have to recover the
id values to the format
<code>&lt;alphanumerics-potentially-separated-by-dash@address.com&gt;</code>.</p>
<p>Another way to acquire this value is from the gzip'd archive. There they
just exist as plain text. The downside is you have to dig out the message
itself first.</p>
</li>
<li>
<p><strong>Add <code>In-Reply-To</code> header to our email.</strong></p>
<p>Draft a new email, make its title the same as our email chain's title (this
is a good idea because lots of email <em>clients</em> do use the title to thread
messages). Set the appropriate recipients, and CCs, including the mailing
list's address. Now save this email as draft and open it in a text editor as
we did in our investigations.  Add in the line
<code>In-Reply-To: &lt;id-we-found-in-step-one.address.com&gt;</code>, save it. Then send this
email (for example, open it with Mail.app and use Message-&gt;Send Again in the
menu).</p>
<p>Of course, some email client <a href="http://www.pixelbeat.org/docs/thunderbird-threading.html">supports</a> adding it
from their GUI.</p>
</li>
</ol>
<p>You'll find the in addition to functioning as an normal message to the
recipients, the mailing list will properly put your message to the original
thread (in the case of swift-evolution, only if your reply is within the same
week).</p>

</article>
<footer>
    <hr />
    <p class="metainfo article-meta">
        <a href="/articles/">More Articles</a>
        ·
        <a href="/tag/swift-evolution/">Swift Evolution</a>
        ·
        <a href="/tag/email/">Email</a>
    </p>
</footer></body>
</html>