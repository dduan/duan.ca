<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>Daniel Duan's Articles About Vim</title>
        <link>https://duan.ca/tag/vim/</link>
        <atom:link href="https://duan.ca/tag/vim/feed.xml" rel="self" type="application/rss+xml" />
            <item>
                <title>Git Commit Message, Vim, and Markdown</title>
                <description>&#60;p&#62;It&#39;s been bothering me for years.&#60;/p&#62;
&#60;p&#62;That is, &#60;code&#62;#&#60;/code&#62; is both the start of a comment in a git commit message, but also
the syntax for headings in Markdown.&#60;/p&#62;
&#60;p&#62;Personally, I prefer using commit messages to populate pull request descriptions
whenever possible. On GitHub, This happens automatically when the pull request
contains a single commit. But I can&#39;t type, say an H3 as &#60;code&#62;### Heading&#60;/code&#62; in the
commit message (in Vim, most of the time) because it gets treated as a comment!&#60;/p&#62;
&#60;p&#62;But thanks to this twitter interaction with &#60;a href=&#34;https://twitter.com/dmartincy&#34;&#62;@dmartincy&#60;/a&#62;, I finally solved
this problem:&#60;/p&#62;
&#60;blockquote class=&#34;twitter-tweet&#34;&#62;&#60;p lang=&#34;en&#34; dir=&#34;ltr&#34;&#62;I haven&#38;#39;t found myself in that situation, but maybe you could do &#38;#39;git config core.commentChar &#38;quot;;&#38;quot;&#38;#39; before creating the commits? That will change the default git commit marker (#) to something that won&#38;#39;t conflict with Markdown titles.&#60;/p&#62;&#38;mdash; Daniel Martín (@dmartincy) &#60;a href=&#34;https://twitter.com/dmartincy/status/1247271508420026368?ref_src=twsrc%5Etfw&#34;&#62;April 6, 2020&#60;/a&#62;&#60;/blockquote&#62; &#60;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&#62;&#60;/script&#62;
&#60;p&#62;As mentioned by Daniel, Git has introduced a setting called &#60;code&#62;core.commentChar&#60;/code&#62;,
documented &#60;a href=&#34;https://git-scm.com/docs/git-config#Documentation/git-config.txt-corecommentChar&#34;&#62;here&#60;/a&#62;, which lets us control which character
becomes the start of a comment line. Let&#39;s say we want to replace the default
&#60;code&#62;#&#60;/code&#62; with &#60;code&#62;;&#60;/code&#62;, we can edit &#60;code&#62;~/.gitconfig&#60;/code&#62; to include this preference:&#60;/p&#62;
&#60;pre&#62;&#60;code&#62;[core]
	commentChar = &#38;quot;;&#38;quot;
&#60;/code&#62;&#60;/pre&#62;
&#60;p&#62;… and this will affect every Git repository on this computer.&#60;/p&#62;
&#60;p&#62;For me, though, this broke git commit syntax highlighting in Vim: the comments,
beginning with &#60;code&#62;;&#60;/code&#62;, are no longer recognized as comments. To fix this, I updated
Vim&#39;s syntax for file type &#60;code&#62;gitcommit&#60;/code&#62;. In your Vim setting directory
(&#60;code&#62;~/.config/nvim/&#60;/code&#62; for me), create a file &#60;code&#62;syntax/gitcommit.vim&#60;/code&#62; file (unless
you already have one), add the following line:&#60;/p&#62;
&#60;pre&#62;&#60;code&#62;syn match gitcommitComment	&#38;quot;^;.*&#38;quot;
&#60;/code&#62;&#60;/pre&#62;
&#60;p&#62;Note &#60;code&#62;;&#60;/code&#62; matches my preferred &#60;code&#62;core.commentChar&#60;/code&#62; for Git.&#60;/p&#62;
&#60;p&#62;Et voilà! Git commit message looks tippy-top in Vim again!&#60;/p&#62;
&#60;p&#62;&#60;img src=&#34;/assets/2020/04/gitcommit.png&#34; alt=&#34;editing git commit in vim, with alternative character being the beginning of a comment&#34; /&#62;&#60;/p&#62;
</description>
                <pubDate>Mon, 13 Apr 2020 13:41:02 -0700</pubDate>
                <link>https://duan.ca/2020/04/13/git-commit-comment/</link>
                <guid isPermaLink="true">https://duan.ca/2020/04/13/git-commit-comment/</guid>
            </item>
    </channel>
</rss>