<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>Daniel Duan's Articles About Xcode</title>
        <link>https://duan.ca/tag/xcode/</link>
        <atom:link href="https://duan.ca/tag/xcode/feed.xml" rel="self" type="application/rss+xml" />
            <item>
                <title>Making An Open-Source Swift Project</title>
                <description>&#60;p&#62;This video shows what it takes to open source a Swift project. Starting from some code in a playground,
I created a framework that supports distribution via Swift Package Manager, CocoaPods, Xcode project and
Carthage. The framework can be used across iOS, macOS, watchOS, tvOS and Linux. In addition, we also added
SwiftLint to the project, added a Makefile, put everything on GitHub and set up continuous integration via
Travis. README, COC, LICENSE and CHANGELOG are stubbed in as well.&#60;/p&#62;
&#60;div class=&#34;video-container&#34;&#62;
    &#60;iframe src=&#34;https://www.youtube.com/embed/pA0T1CdqMt8&#34; frameborder=&#34;0&#34; gesture=&#34;media&#34; allow=&#34;encrypted-media&#34; allowfullscreen&#62;&#60;/iframe&#62;
&#60;/div&#62;
&#60;p&#62;This is not at all a comprehensive list of things a good Open Source project should have. We are still missing
the version tag, documentation generation, automatic Carthage binary generation, test coverage...&#60;/p&#62;
&#60;p&#62;Anyways, here&#39;s some stuff mentioned in the video:&#60;/p&#62;
&#60;ul&#62;
&#60;li&#62;Sample project from the video: &#60;a href=&#34;https://github.com/dduan/BitArray&#34;&#62;https://github.com/dduan/BitArray&#60;/a&#62;&#60;/li&#62;
&#60;li&#62;Video of me writing the code in this project: &#60;a href=&#34;https://www.youtube.com/watch?v=-k_jrIoD56k&#34;&#62;https://www.youtube.com/watch?v=-k_jrIoD56k&#60;/a&#62;&#60;/li&#62;
&#60;li&#62;Swift Package Manager: &#60;a href=&#34;https://swift.org/package-manager/&#34;&#62;https://swift.org/package-manager/&#60;/a&#62;&#60;/li&#62;
&#60;li&#62;CocoaPods: &#60;a href=&#34;https://cocoapods.org&#34;&#62;https://cocoapods.org&#60;/a&#62;&#60;/li&#62;
&#60;li&#62;Carthage: &#60;a href=&#34;https://github.com/Carthage/Carthage&#34;&#62;https://github.com/Carthage/Carthage&#60;/a&#62;&#60;/li&#62;
&#60;li&#62;Xcconfigs for universal framework: &#60;a href=&#34;https://github.com/mrackwitz/xcconfigs&#34;&#62;https://github.com/mrackwitz/xcconfigs&#60;/a&#62;&#60;/li&#62;
&#60;li&#62;SwiftLint: &#60;a href=&#34;https://github.com/realm/SwiftLint&#34;&#62;https://github.com/realm/SwiftLint&#60;/a&#62;&#60;/li&#62;
&#60;li&#62;Travis CI: &#60;a href=&#34;https://travis-ci.org&#34;&#62;https://travis-ci.org&#60;/a&#62;&#60;/li&#62;
&#60;/ul&#62;
</description>
                <pubDate>Sun, 17 Dec 2017 21:24:43 -0800</pubDate>
                <link>https://duan.ca/2017/12/17/making-an-open-source-swift-project/</link>
                <guid isPermaLink="true">https://duan.ca/2017/12/17/making-an-open-source-swift-project/</guid>
            </item>
            <item>
                <title>Building Swift Projects In Source Compatibility Mode</title>
                <description>&#60;p&#62;It&#39;s a few weeks before WWDC, so naturallyÂ¹ it&#39;s time to try build your Swift
projects in the compiler&#39;s compatibility mode!&#60;/p&#62;
&#60;ol&#62;
&#60;li&#62;
&#60;p&#62;Download and install a snapshot for the next major version &#60;a href=&#34;https://swift.org/download/&#34;&#62;on
Swift.org&#60;/a&#62;.&#60;/p&#62;
&#60;p&#62;&#60;img src=&#34;/assets/2017/05/download-swift-snapshot.png&#34; alt=&#34;download swift toolchain&#34; /&#62;
&#60;img src=&#34;/assets/2017/05/install-swift-snapshot.png&#34; alt=&#34;install swift toolchain&#34; /&#62;&#60;/p&#62;
&#60;/li&#62;
&#60;li&#62;
&#60;p&#62;Choose the newly installed toolchain in Xcode.&#60;/p&#62;
&#60;p&#62;&#60;img src=&#34;/assets/2017/05/choose-toolchain.png&#34; alt=&#34;choose swift toolchain in Xcode&#34; /&#62;&#60;/p&#62;
&#60;/li&#62;
&#60;li&#62;
&#60;p&#62;Ask the compiler to use compatibility mode. This means using the complier
flag &#60;code&#62;-swift-version X&#60;/code&#62;, where &#38;quot;X&#38;quot; is the &#60;em&#62;current&#60;/em&#62; major Swift version.&#60;/p&#62;
&#60;p&#62;In project&#39;s &#38;quot;Build Settings&#38;quot;, value for &#38;quot;Other Swift Flags&#38;quot; should
contain &#60;code&#62;-swift-version X&#60;/code&#62;. This could mean setting it in Xcode, in
&#60;code&#62;.xcconfig&#60;/code&#62; files you are using and/or in your dependency managers such
as Cocoapods.&#60;/p&#62;
&#60;p&#62;&#60;img src=&#34;/assets/2017/05/compat-mode-flag.png&#34; alt=&#34;compatibility flag in xcode&#34; /&#62;&#60;/p&#62;
&#60;p&#62;For example, with Cocoapods, you&#39;ll need to add the following in your
&#60;code&#62;Podfile&#60;/code&#62; to compile 3rd party libraries in compatibility mode:&#60;/p&#62;
&#60;pre&#62;&#60;code&#62; post_install do |installer|
     installer.pods_projects.targets.each do |target|
         target.build_configurations.each do |config|
             config.build_settings[&#38;quot;OTHER_SWIFT_FLAGS&#38;quot;] = &#38;quot;$(inherited) -swift-version 3&#38;quot;
         end
     end
 end
&#60;/code&#62;&#60;/pre&#62;
&#60;/li&#62;
&#60;li&#62;
&#60;p&#62;Build your project! This is where things start to get exciting.&#60;/p&#62;
&#60;p&#62;You should expect some warnings. Hopefully they are self-explanatory
enough. Most of them should correspond to &#60;a href=&#34;https://apple.github.io/swift-evolution/&#34;&#62;a swift-evolution
proposal&#60;/a&#62;.&#60;/p&#62;
&#60;p&#62;Improvement to the language or compiler usually means some of these
warnings tell you problems in your code that has been ignored by the
compiler previously. Fix them today!&#60;/p&#62;
&#60;p&#62;The project should compile successfully in compatibility mode (despite
warnings). This where you can stop reading. Go celebrate with your
coworkers, friends, and family!&#60;/p&#62;
&#60;p&#62;Things could go wrong for compiler snapshots, of course. Read on if see
errors or crashes (whaaaaat ðŸ˜¸).&#60;/p&#62;
&#60;/li&#62;
&#60;li&#62;
&#60;p&#62;It&#39;s time to tell the compiler team about the error or crash you encountered.&#60;/p&#62;
&#60;p&#62;Reduce the error or crash to a state that your are comfortable reporting in
public. Then go to &#60;a href=&#34;https://bugs.swift.org&#34;&#62;bugs.swift.org&#60;/a&#62; and file a JIRA
ticket describing the error or compiler crash.&#60;/p&#62;
&#60;p&#62;During the process of code reduction you may find ways to work around the
compile error or crash. Make the changes for the workaround and repeat
steps 4-5. Maybe your project will compile this time.&#60;/p&#62;
&#60;/li&#62;
&#60;li&#62;
&#60;p&#62;The issue you discovered will be fixed in the official Swift release come
fall. You&#39;ve ensured a smooth Swift upgrade for your project and contributed
to the Swift community ðŸŽ‰!&#60;/p&#62;
&#60;/li&#62;
&#60;/ol&#62;
&#60;hr /&#62;
&#60;p&#62;Â¹ source compatibility mode is a thing starting with Swift 4. As new
major version of Swift is released, code written in the previous version should
compile without change in compatibility mode.&#60;/p&#62;
</description>
                <pubDate>Mon, 22 May 2017 09:04:01 -0700</pubDate>
                <link>https://duan.ca/2017/05/22/build-in-swift-compatibility-mode/</link>
                <guid isPermaLink="true">https://duan.ca/2017/05/22/build-in-swift-compatibility-mode/</guid>
            </item>
            <item>
                <title>Dynamic Swift Framework Without Xcode</title>
                <description>&#60;p&#62;I came up with this question recently:&#60;/p&#62;
&#60;blockquote class=&#34;twitter-tweet&#34; lang=&#34;en&#34;&#62;&#60;p lang=&#34;en&#34; dir=&#34;ltr&#34;&#62;Can we even use Frameworks with &#60;a href=&#34;https://twitter.com/hashtag/Swiftlang?src=hash&#34;&#62;#Swiftlang&#60;/a&#62; on Linux?&#60;/p&#62;&#38;mdash; Daniel Duan (@daniel_duan) &#60;a href=&#34;https://twitter.com/daniel_duan/status/617470929241706496&#34;&#62;July 4, 2015&#60;/a&#62;&#60;/blockquote&#62; &#60;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&#62;&#60;/script&#62;
&#60;p&#62;And I&#39;m going to give the answer in this post (spoiler alert: yes, sort of).&#60;/p&#62;
&#60;p&#62;Here&#39;s the content of a framework created by Xcode:&#60;/p&#62;
&#60;p&#62;&#60;img src=&#34;/assets/2015/07/just-framework-structure.png&#34; alt=&#34;Just Framework Structure&#34; /&#62;&#60;/p&#62;
&#60;p&#62;Some of the files, such as &#60;code&#62;Info.plist&#60;/code&#62;, are obviously construct of Xcode.
Play with &#60;code&#62;swiftc&#60;/code&#62; long enough, one would find that the &#60;code&#62;.swiftdoc&#60;/code&#62;s, the
&#60;code&#62;.swiftmodule&#60;/code&#62;s and the one binary file came from the Swift compiler.&#60;/p&#62;
&#60;p&#62;Instead of listing the relevant &#60;code&#62;swiftc&#60;/code&#62; command options, I&#39;ve created a &#60;a href=&#34;https://github.com/dduan/Swift-Framework-Without-Xcode&#34;&#62;sample project&#60;/a&#62; to demonstrate how one can complie and link to frameworks so that they can be &#60;code&#62;import&#60;/code&#62;ed in the application code. The key ingredient for achieving it lies in &#60;em&#62;Makefile&#60;/em&#62;. In summary, &#60;code&#62;swiftc&#60;/code&#62; can do these for us:&#60;/p&#62;
&#60;ol&#62;
&#60;li&#62;generate a binary as a library/framework&#60;/li&#62;
&#60;li&#62;emit a &#60;code&#62;.swiftmodule&#60;/code&#62; file, which Swift needs to understand that binary.&#60;/li&#62;
&#60;li&#62;assign a path the Swift runtime needs to locate this framework.&#60;/li&#62;
&#60;li&#62;compile source code that imports the framework, given that they exist in the paths relative to the app binary in step 3.&#60;/li&#62;
&#60;/ol&#62;
&#60;p&#62;Based on these observations, it&#39;s not hard to imagine more sophisticated build systems, such as IDEs and package/dependency management systems.&#60;/p&#62;
</description>
                <pubDate>Sun, 05 Jul 2015 22:36:09 -0700</pubDate>
                <link>https://duan.ca/2015/07/05/dynamic-swift-framework-without-xcode/</link>
                <guid isPermaLink="true">https://duan.ca/2015/07/05/dynamic-swift-framework-without-xcode/</guid>
            </item>
            <item>
                <title>My Xcode 6.2 And 6.3 Prediction</title>
                <description>&#60;p&#62;We have a situation here: three versions of Xcode are available to devleopers as of this writing.&#60;/p&#62;
&#60;ol&#62;
&#60;li&#62;Xcode 6.1.1&#60;/li&#62;
&#60;li&#62;Xcode 6.2 beta&#60;/li&#62;
&#60;li&#62;Xcode 6.3 beta&#60;/li&#62;
&#60;/ol&#62;
&#60;p&#62;6.2 is released with the purpose of making WatchKit availale.&#60;/p&#62;
&#60;p&#62;6.3, so far, has been focused on Swift 1.2 and new Objective-C features, and a
few non-language related features.&#60;/p&#62;
&#60;p&#62;The fact that there are two betas indicates to me each will be followed up by
an official release. So how?&#60;/p&#62;
&#60;p&#62;My guess: there will be an official Xcode 6.2 release after ï£¿Watch release. It doesn&#39;t make much sense to skip a minor version.&#60;/p&#62;
&#60;p&#62;Then things get interesting. ï£¿Watch is coming out in April. Shortly after that, we&#39;ll have WWDC. Usually, WWDC comes with major Xcode beta release. So ... what happens to version 6.3?&#60;/p&#62;
&#60;p&#62;My guess: either we&#39;ll never get Xcode 6.3, or we won&#39;t get Xcode 7 this year.&#60;/p&#62;
&#60;p&#62;The former make sense in the context that &#60;a href=&#34;http://9to5mac.com/2015/02/09/apples-ios-9-to-have-huge-stability-and-optimization-focus-after-years-of-feature-additions/&#34;&#62;Apple Is Focused on Stablity&#60;/a&#62;. Xcode needs some love on that front, let&#39;s face it!&#60;/p&#62;
&#60;p&#62;On the other hand, no harm would be done if Apple market 6.3 as version 7 come WWDC. Afterall, Swift 1.2 is significant enough to justify a major version.&#60;/p&#62;
</description>
                <pubDate>Tue, 10 Feb 2015 02:09:50 -0800</pubDate>
                <link>https://duan.ca/2015/02/10/my-xcode-62-and-63-prediction/</link>
                <guid isPermaLink="true">https://duan.ca/2015/02/10/my-xcode-62-and-63-prediction/</guid>
            </item>
            <item>
                <title>Generating Xcode Build Number From Git</title>
                <description>&#60;p&#62;The build version number in an Xcode project (CFBundleVersion in Info.plist)
must be a monotonically increasing string for each archive submitted to the
App Store. Neglection of this requirement will result in an error during the
binary upload. Some automation will help avoiding this issue.&#60;/p&#62;
&#60;p&#62;First, we want to generate this version number from our version (&#60;em&#62;duh&#60;/em&#62;)
control system (VCS) each time our target gets built. My VCS of choice is Git,
users of other systems just need to get a increasing number from their code
history. On a *nix system, this command will count the number of commits on
&#39;develop&#39; branch up until HEAD:&#60;/p&#62;
&#60;pre&#62;&#60;code&#62;    git rev-list develop | wc -l
&#60;/code&#62;&#60;/pre&#62;
&#60;p&#62;This is a very good candidate for our build number, for longer history
generally correlates to later builds.&#60;/p&#62;
&#60;p&#62;Next, we make Xcode automatically run this command and use its result as the
build number.&#60;/p&#62;
&#60;p&#62;Go to project navigator, select your build target under the project icon,
click &#60;em&#62;Build Phases&#60;/em&#62;, select &#60;em&#62;Editorâ†’Add Build Phaseâ†’Add Run Script Build
Phase&#60;/em&#62; in the menu. Remove the content in editor of the new &#60;em&#62;Run Script&#60;/em&#62;
phase and replace it with:&#60;/p&#62;
&#60;pre&#62;&#60;code&#62;revnum=`git rev-list develop | wc -l`
echo &#38;quot;#define BUILD_NUMBER $revnum&#38;quot; &#38;gt; InfoPlist.h
touch InfoPlist.h
&#60;/code&#62;&#60;/pre&#62;
&#60;p&#62;Go to build settings, change value of &#60;em&#62;Preprocess Info.plist File&#60;/em&#62; to &#38;quot;YES&#38;quot;.
Add &#38;quot;InfoPlist.h&#38;quot; to &#60;em&#62;Info.plist Preprocessor Prefix Fileâ†’release&#60;/em&#62;.&#60;/p&#62;
&#60;p&#62;We ask Xcode to run our command and save its result as a &#38;quot;#define&#38;quot; in a header
file when it builds the project. This is done so that we can replace the
&#38;quot;hardcoded&#38;quot; build number with the name of the constant:&#60;/p&#62;
&#60;p&#62;Open Info.plist, Double click the value of &#60;em&#62;Bundle Version&#60;/em&#62; and replace it with&#60;/p&#62;
&#60;pre&#62;&#60;code&#62;BUILD_NUMBER
&#60;/code&#62;&#60;/pre&#62;
&#60;p&#62;There&#39;s only one issue left: &#60;code&#62;BUILD_NUMBER&#60;/code&#62; is now saved in &#60;em&#62;InfoPlist.h&#60;/em&#62;. Its
value comes from our commit history. So we want to exclude this piece of
information as part of our commit history (I&#39;ll leave the reason as an exercise
for the reader). Ignore this file by adding &#38;quot;InfoPlist.h&#38;quot; to &#60;em&#62;.gitignore&#60;/em&#62; (or
that of your other VCS).&#60;/p&#62;
&#60;p&#62;To recap, when you build the project now, Xcode will find out how many commits
are in the history, define it in a header file as &#60;code&#62;BUILD_NUMBER&#60;/code&#62;, which gets
used as the build number. As long as you keep with with version control, the
build number problem goes away.&#60;/p&#62;
</description>
                <pubDate>Sun, 29 Sep 2013 15:50:50 -0600</pubDate>
                <link>https://duan.ca/2013/09/29/generating-xcode-build-number-from-git/</link>
                <guid isPermaLink="true">https://duan.ca/2013/09/29/generating-xcode-build-number-from-git/</guid>
            </item>
    </channel>
</rss>